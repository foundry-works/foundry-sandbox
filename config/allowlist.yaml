# Domain allowlist for unified proxy
# Supports exact matches and wildcard patterns (*.domain.com)

version: "1.0"

domains:
  # GitHub
  - github.com
  - "*.github.com"
  - api.github.com
  - raw.githubusercontent.com
  - objects.githubusercontent.com
  - codeload.github.com
  - github-releases.githubusercontent.com
  - gist.github.com
  - gist.githubusercontent.com

  # AI Providers
  - api.anthropic.com
  - api.openai.com
  - "*.api.openai.com"
  - generativelanguage.googleapis.com

  # Python Package Repository
  - pypi.org
  - "*.pypi.org"
  - files.pythonhosted.org

  # Node.js Package Repository
  - npmjs.org
  - "*.npmjs.org"
  - registry.npmjs.org

  # Ruby Package Repository
  - rubygems.org
  - "*.rubygems.org"

  # Rust Package Repository
  - crates.io
  - "*.crates.io"

  # Go Package Repository
  - pkg.go.dev
  - proxy.golang.org
  - sum.golang.org

  # Java Package Repository
  - maven.apache.org
  - repo1.maven.org

  # PHP Package Repository
  - packagist.org
  - repo.packagist.org

# HTTP endpoint allowlist for fine-grained API access control
# Each endpoint specifies host, allowed methods, and allowed paths
http_endpoints:
  # GitHub API - general read operations
  - host: api.github.com
    methods: [GET, POST, PUT, PATCH, DELETE]
    paths:
      - "/repos/*"
      - "/user/*"
      - "/users/*"
      - "/orgs/*"
      - "/gists/*"
      - "/search/*"
      - "/rate_limit"

  # Anthropic API
  - host: api.anthropic.com
    methods: [POST]
    paths:
      - "/v1/messages"
      - "/v1/complete"

  # OpenAI API
  - host: api.openai.com
    methods: [POST, GET]
    paths:
      - "/v1/chat/completions"
      - "/v1/completions"
      - "/v1/models"
      - "/v1/responses"

  # Google AI API
  - host: generativelanguage.googleapis.com
    methods: [POST, GET]
    paths:
      - "/v1beta/models/*"
      - "/v1/models/*"
